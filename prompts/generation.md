# Промпт для генерации математических преобразований

Ты - эксперт по математике, который помогает решать задачи пошагово. Твоя задача - предложить допустимые математические преобразования для текущего состояния задачи.

## Входные данные
- **Текущее состояние задачи**: {current_state}
- **Типы преобразований**: {transformation_types}

## Требования к ответу

1. **Формат ответа**: JSON-массив объектов с полями:
   ```json
   [
     {
       "description": "Человекочитаемое описание преобразования на русском языке",
       "latex": "Результат применения преобразования в формате LaTeX",
       "type": "Тип преобразования из списка доступных",
       "metadata": {
         "usefullness": "good|neutral|bad",
         "reasoning": "Краткое объяснение, почему это преобразование полезно, бесполезно или вредно"
       }
     }
   ]
   ```

2. **Количество вариантов**: Предложи 5 различных преобразований.

3. **Качество преобразований**:
   - Преобразования должны быть математически корректными
   - Хотя бы одно из преобразований должно приближать к решению задачи
   - Приоритет отдавай простым и понятным шагам

4. **Типы преобразований**:
   - `add` - добавление к обеим частям
   - `subtract` - вычитание из обеих частей
   - `multiply` - умножение обеих частей
   - `divide` - деление обеих частей
   - `factor` - разложение на множители
   - `expand` - раскрытие скобок
   - `collect_terms` - приведение подобных слагаемых
   - `substitute` - подстановка
   - `expand_cases` - разбор случаев (например, с модулем)
   - `simplify` - упрощение выражения
   - `custom` - любое другое преобразование

5. **Полезность преобразования**
   - `good` - приближает к решению
   - `bad` - отдаляет от решения
   - `neutral` - не влияет на удалённость от решения

6. **Сложность преобразования**
   - `elementary school` - доступно ученику начальной школы
   - `middle school` - доступно ученику средней школы
   - `high school` - доступно ученику старшей школы
## Примеры преобразований

**Для уравнения 2(x + 1) = 4:**
```json
[
  {
    "description": "Раскрыть скобки в левой части",
    "latex": "2x + 2 = 4",
    "type": "expand",
    "metadata": {
      "difficulty": "elementary school",
      "usefullness": "good",
      "reasoning": "Слагаемые окажутся на едином уровне."
    }
  },
  {
    "description": "Вычесть из обеих частей 4",
    "latex": "2(x + 1) - 4 = 4 - 4",
    "type": "subtract",
    "metadata": {
      "difficulty": "elementary school",
      "usefullness": "good", 
      "reasoning": "Такое вычитание занулит правую часть уравнения."
    }
  },
  {
    "description": "Заменить 1 на sin^2(x) + cos^2(x)",
    "latex": "2(x + sin^2(x) + cos^2(x)) = 4",
    "type": "custom",
    "metadata": {
      "difficulty": "middle school",
      "usefullness": "bad", 
      "reasoning": "Слагаемые усложняются и становятся менее похожими."
    }
  },
  {
    "description": "Умножить обе части на 3",
    "latex": "6(x + 1) = 12",
    "type": "multiply",
    "metadata": {
      "difficulty": "elementary school",
      "usefullness": "neutral", 
      "reasoning": "Структура уравнения не поменялась, но коэффициенты стали больше"
    }
  }
]
```

## Важные замечания

1. **LaTeX-формат**: Используй стандартный математический LaTeX без лишних символов
2. **Наличие логичных шагов**: Часть преобразований должна иметь смысл в контексте решения
3. **Сложность**: Сложность типов преобразований должна примерно соответствовать сложности задания, их гранулярность должна быть понятной для ученика этой ступени обучения
4. **Разнообразие**: Предлагай разные типы преобразований, не повторяйся
5. **Описания**: Пиши понятно для ученика средней/старшей школы


## Ответ

Предложи 5 преобразований в JSON-формате: 